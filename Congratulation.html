<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>4Site Cabinetry - Automatic Door Opening</title>
<style>
  html, body {
    margin:0; padding:0; height:100%;
    overflow:hidden;
    background:#f4f4f4;
    font-family: 'Montserrat', sans-serif;
  }
  #doorContainer {
    position: fixed;
    top:0; left:0; width:100%; height:100%;
    perspective: 1200px;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 10000;
    background: #000;
  }
  .door {
    width: 50vw;
    height: 100vh;
    background-image: url('Door.jpg');
    background-size: 200% 100%;
    background-repeat: no-repeat;
    transition: transform 1.8s ease-in-out;
  }
  .door.left {
    background-position: left center;
    transform-origin: left center;
    box-shadow: inset -2px 0 10px rgba(0,0,0,0.6);
  }
  .door.right {
    background-position: right center;
    transform-origin: right center;
    box-shadow: inset 2px 0 10px rgba(0,0,0,0.6);
  }
  #doorContainer.open .door.left {
    transform: rotateY(-100deg);
  }
  #doorContainer.open .door.right {
    transform: rotateY(100deg);
  }
  #doorLogo {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #f3c28b;
    font-weight: 900;
    text-align: center;
    pointer-events: none;
    z-index: 10;
  }
  #doorLogo h1 {
    font-size: 7vw;
    margin: 0;
    letter-spacing: 0.2em;
    text-shadow: 2px 2px 5px rgba(0,0,0,0.7);
  }
  #doorLogo p {
    font-size: 2vw;
    margin: 0;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    font-weight: 600;
    color: #d9a84b;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
  }
  #celebrate {
    display: none;
    height: 100vh;
    color: orange;
    text-align: center;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background: #fff7e6;
    padding: 0 10vw;
  }
  #celebrate h1 {
    font-size: 6vw;
    margin: 0;
    text-shadow: 1px 1px 3px #a35400;
  }
  #celebrate p {
    font-size: 2vw;
    margin-top: 20px;
    color: #8a5a00;
  }
  canvas.confetti {
    position: fixed;
    pointer-events: none;
    top: 0; left: 0; width: 100%; height: 100%;
    z-index: 9999;
  }
  #audioError {
    display: none;
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0,0,0,0.7);
    color: white;
    padding: 10px 20px;
    border-radius: 5px;
    z-index: 100000;
  }
</style>
</head>
<body>

<div id="doorContainer">
  <div class="door left"></div>
  <div class="door right"></div>
  <div id="doorLogo">
    <h1>4Site</h1>
    <p>The Best Cabinetry</p>
  </div>
</div>

<div id="celebrate">
  <h1>Congrats! We win a new project today! ðŸŽ‰</h1>
  <p>Celebrating with sound and animation</p>
</div>

<audio id="gongAudio" preload="auto">
  <source src="Gong.mp3" type="audio/mpeg" />
  Your browser does not support the audio element.
</audio>

<div id="audioError">Audio failed to load. Click here to try again.</div>

<canvas class="confetti"></canvas>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
<script>
  const doorContainer = document.getElementById('doorContainer');
  const celebrate = document.getElementById('celebrate');
  const audio = document.getElementById('gongAudio');
  const audioError = document.getElementById('audioError');

  // è‡ªåŠ¨è§¦å‘å¼€é—¨åŠ¨ç”»ï¼ˆ1ç§’åŽï¼‰
  setTimeout(() => {
    startAnimation();
  }, 1000);

  function startAnimation() {
    doorContainer.classList.add('open');
    
    setTimeout(() => {
      doorContainer.style.display = 'none';
      celebrate.style.display = 'flex';
      
      // å°è¯•æ’­æ”¾éŸ³é¢‘
      playAudio();
      
      // å¯åŠ¨å½©èŠ±æ•ˆæžœ
      launchConfetti();
    }, 1800);
  }

  function playAudio() {
    audio.play()
      .catch(error => {
        console.error("Audio playback failed:", error);
        audioError.style.display = 'block';
        audioError.addEventListener('click', () => {
          audio.play().catch(e => console.error("Retry failed:", e));
          audioError.style.display = 'none';
        });
      });
  }

  function launchConfetti() {
    const duration = 5 * 1000;
    const animationEnd = Date.now() + duration;
    const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 9999 };

    function frame() {
      confetti({
        particleCount: 5,
        ...defaults,
        origin: { x: Math.random(), y: Math.random() - 0.2 }
      });
      if (Date.now() < animationEnd) {
        requestAnimationFrame(frame);
      }
    }
    frame();
  }
</script>
</body>
</html>
