<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>4Site | Premium Cabinetry Experience</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  :root {
    --gold-primary: #f3c28b;
    --gold-secondary: #d9a84b;
    --shadow-depth: 0 4px 30px rgba(0,0,0,0.3);
  }
  
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    overflow: hidden;
    background: #000;
    font-family: 'Montserrat', sans-serif;
  }

  #doorContainer {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    perspective: 1500px;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 10000;
    background: radial-gradient(ellipse at center, #1a1a1a 0%, #000 100%);
  }

  .door {
    width: 50vw;
    height: 100vh;
    background-image: url('Door.jpg');
    background-size: 200% 100%;
    background-repeat: no-repeat;
    transition: transform 2s cubic-bezier(0.17, 0.67, 0.21, 0.99);
    filter: drop-shadow(var(--shadow-depth));
  }

  .door.left {
    background-position: left center;
    transform-origin: left center;
    box-shadow: inset -15px 0 30px rgba(0,0,0,0.8);
  }

  .door.right {
    background-position: right center;
    transform-origin: right center;
    box-shadow: inset 15px 0 30px rgba(0,0,0,0.8);
  }

  #doorContainer.open .door.left {
    transform: rotateY(-110deg);
  }

  #doorContainer.open .door.right {
    transform: rotateY(110deg);
  }

  #doorLogo {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: var(--gold-primary);
    text-align: center;
    z-index: 10;
    opacity: 0;
    animation: fadeIn 2s forwards 0.5s;
  }

  @keyframes fadeIn {
    to { opacity: 1; }
  }

  #doorLogo h1 {
    font-size: 7vw;
    margin: 0;
    letter-spacing: 0.3em;
    text-shadow: 0 0 20px rgba(243,194,139,0.5);
    font-weight: 900;
    text-transform: uppercase;
  }

  #doorLogo p {
    font-size: 1.8vw;
    margin: 1em 0 0;
    letter-spacing: 0.2em;
    font-weight: 300;
    color: var(--gold-secondary);
  }

  #celebrate {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background: linear-gradient(135deg, #000000 0%, #1a1a1a 100%);
    z-index: 9000;
  }

  #celebrate h1 {
    font-size: 5vw;
    margin: 0;
    background: linear-gradient(to right, #f3c28b, #d9a84b);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    text-shadow: 0 0 30px rgba(217,168,75,0.3);
    animation: textGlow 3s infinite alternate;
  }

  @keyframes textGlow {
    from { text-shadow: 0 0 10px rgba(217,168,75,0.3); }
    to { text-shadow: 0 0 30px rgba(217,168,75,0.7); }
  }

  #celebrate p {
    font-size: 1.5vw;
    margin-top: 2em;
    color: var(--gold-primary);
    letter-spacing: 0.1em;
    font-weight: 300;
  }

  .particles {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 8000;
    pointer-events: none;
  }

  .gold-dust {
    position: absolute;
    background: radial-gradient(circle, var(--gold-primary) 0%, transparent 70%);
    border-radius: 50%;
    opacity: 0;
  }

  .preloader {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #000;
    z-index: 20000;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .preloader-spinner {
    width: 60px;
    height: 60px;
    border: 3px solid transparent;
    border-top-color: var(--gold-primary);
    border-radius: 50%;
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
</style>
</head>
<body>

<div class="preloader">
    <div class="preloader-spinner"></div>
</div>

<div id="doorContainer">
    <div class="door left"></div>
    <div class="door right"></div>
    <div id="doorLogo">
        <h1>4Site</h1>
        <p>Exceptional Cabinetry</p>
    </div>
</div>

<div id="celebrate">
    <h1>Project Awarded Successfully</h1>
    <p>Celebrating our achievement</p>
    <canvas class="particles"></canvas>
</div>

<audio id="gongAudio" preload="auto">
    <source src="Gong.mp3" type="audio/mpeg">
</audio>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const preloader = document.querySelector('.preloader');
    const doorContainer = document.getElementById('doorContainer');
    const celebrate = document.getElementById('celebrate');
    const audio = document.getElementById('gongAudio');
    const particlesCanvas = document.querySelector('.particles');
    const ctx = particlesCanvas.getContext('2d');
    
    let particles = [];
    let audioContext;
    let analyser;
    let dataArray;
    
    particlesCanvas.width = window.innerWidth;
    particlesCanvas.height = window.innerHeight;
    
    function initAudioContext() {
        audioContext = new (window.AudioContext || window.webkitAudioContext)();
        const source = audioContext.createMediaElementSource(audio);
        analyser = audioContext.createAnalyser();
        analyser.fftSize = 256;
        source.connect(analyser);
        analyser.connect(audioContext.destination);
        dataArray = new Uint8Array(analyser.frequencyBinCount);
    }
    
    function createParticles() {
        for (let i = 0; i < 150; i++) {
            particles.push({
                x: Math.random() * particlesCanvas.width,
                y: Math.random() * particlesCanvas.height,
                size: Math.random() * 3 + 1,
                speedX: Math.random() * 2 - 1,
                speedY: Math.random() * 2 - 1,
                color: `rgba(243, 194, 139, ${Math.random() * 0.5 + 0.1})`
            });
        }
    }
    
    function animateParticles() {
        ctx.clearRect(0, 0, particlesCanvas.width, particlesCanvas.height);
        
        if (analyser) {
            analyser.getByteFrequencyData(dataArray);
            const bass = dataArray[5] / 255;
            
            particles.forEach(p => {
                p.x += p.speedX;
                p.y += p.speedY;
                
                if (p.x < 0 || p.x > particlesCanvas.width) p.speedX *= -1;
                if (p.y < 0 || p.y > particlesCanvas.height) p.speedY *= -1;
                
                const sizeMultiplier = 1 + bass * 2;
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size * sizeMultiplier, 0, Math.PI * 2);
                ctx.fillStyle = p.color;
                ctx.fill();
            });
        }
        
        requestAnimationFrame(animateParticles);
    }
    
    function createGoldDust() {
        for (let i = 0; i < 30; i++) {
            const dust = document.createElement('div');
            dust.className = 'gold-dust';
            const size = Math.random() * 100 + 50;
            dust.style.width = `${size}px`;
            dust.style.height = `${size}px`;
            dust.style.left = `${Math.random() * 100}vw`;
            dust.style.top = `${Math.random() * 100}vh`;
            dust.style.animation = `fadeInOut ${Math.random() * 3 + 2}s infinite ${Math.random() * 2}s`;
            document.body.appendChild(dust);
        }
    }
    
    function startExperience() {
        setTimeout(() => {
            preloader.style.opacity = '0';
            setTimeout(() => {
                preloader.style.display = 'none';
                
                setTimeout(() => {
                    doorContainer.classList.add('open');
                    
                    setTimeout(() => {
                        doorContainer.style.display = 'none';
                        celebrate.style.display = 'flex';
                        
                        audio.play().catch(e => {
                            console.log('Autoplay blocked, initializing fallback');
                            initAudioContext();
                            document.body.addEventListener('click', () => {
                                audioContext.resume().then(() => audio.play());
                            }, { once: true });
                        });
                        
                        createParticles();
                        animateParticles();
                        createGoldDust();
                    }, 2000);
                }, 1000);
            }, 500);
        }, 1500);
    }
    
    window.addEventListener('load', startExperience);
    window.addEventListener('resize', () => {
        particlesCanvas.width = window.innerWidth;
        particlesCanvas.height = window.innerHeight;
    });
    
    const style = document.createElement('style');
    style.textContent = `
        @keyframes fadeInOut {
            0%, 100% { opacity: 0; transform: scale(0.5); }
            50% { opacity: 0.7; transform: scale(1); }
        }
    `;
    document.head.appendChild(style);
});
</script>
</body>
</html>
